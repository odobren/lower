<!DOCTYPE html>
<html>
<head>
  <title>Загрузка файлов</title>
</head>
<body>
  <input type="file" id="fileInput">
  <button onclick="uploadFile()">Загрузить</button>
  <div id="progress"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.18.0/js/md5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <script>
    function uploadFile() {
      var fileInput = document.getElementById('fileInput');
      var file = fileInput.files[0];
      var reader = new FileReader();

      reader.onload = function(event) {
        var filename = file.name;
        var mimeType = file.type;
        var bytes = event.target.result.split(',')[1];

        $.post("https://script.google.com/macros/s/AKfycbw5U19DJy6Plkuuf1bY6OQZktK-iT4bBv_4rSM5KBhCOCERXsSkzMVWLXpU0YEsME3f/exec", {
          filename: filename,
          mimeType: mimeType,
          bytes: bytes
        }, function(data, status) {
          if (data.success) {
            alert("Файл успешно загружен");
          } else {
            alert("Произошла ошибка при загрузке файла");
          }
        });
      };

      reader.readAsDataURL(file);
    }
  </script>
</body>
</html>
